{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/qxl.playground/source/class/qxl/playground/view/RiaPlayArea.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "construct",
    "layout",
    "VBox",
    "setSeparator",
    "setDecorator",
    "_caption",
    "setBackgroundColor",
    "setLayout",
    "HBox",
    "__captionLabel",
    "basic",
    "Label",
    "set",
    "font",
    "padding",
    "allowGrowX",
    "allowGrowY",
    "maxIcon",
    "restoreIcon",
    "maxButton",
    "form",
    "Button",
    "setAppearance",
    "setMargin",
    "setMinHeight",
    "setToolTipText",
    "tr",
    "addListener",
    "getIcon",
    "setIcon",
    "fireEvent",
    "add",
    "core",
    "Spacer",
    "flex",
    "minHeight",
    "maxHeight",
    "__playField",
    "Scroll",
    "getChildControl",
    "_dummy",
    "Widget",
    "events",
    "members",
    "_playRoot",
    "_playApp",
    "_initialized",
    "init",
    "queue",
    "Manager",
    "flush",
    "playRootEl",
    "getContentElement",
    "getDomElement",
    "innerRoot",
    "document",
    "createElement",
    "appendChild",
    "root",
    "Inline",
    "_setLayout",
    "Canvas",
    "self",
    "getLayoutParent",
    "getChildren",
    "_getChildren",
    "setMinWidth",
    "getBounds",
    "width",
    "height",
    "e",
    "data",
    "getData",
    "application",
    "Standalone",
    "getRoot",
    "updateCaption",
    "text",
    "setValue",
    "reset",
    "beforeReg",
    "afterReg",
    "code",
    "ch",
    "i",
    "length",
    "destroy",
    "getLayout",
    "dispose",
    "Dispose",
    "hash",
    "isDisposed",
    "indexOf",
    "classname",
    "item",
    "constructor",
    "$$instance",
    "getApp",
    "destruct",
    "_disposeObjects",
    "qxl",
    "playground",
    "view",
    "RiaPlayArea"
  ],
  "mappings": "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",
  "sourcesContent": [
    "\n/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Widget responsible for hosting the run code.\n */\nqx.Class.define(\"qxl.playground.view.RiaPlayArea\",\n{\n  extend : qx.ui.container.Composite,\n\n\n  construct : function()\n  {\n    var layout = new qx.ui.layout.VBox();\n    layout.setSeparator(\"separator-vertical\");\n    this.base(arguments, layout);\n    this.setDecorator(\"main\");\n\n    // caption\n    this._caption = new qx.ui.container.Composite();\n    this._caption.setBackgroundColor(\"white\");\n    this._caption.setLayout(new qx.ui.layout.HBox());\n\n    // caption label\n    this.__captionLabel = new qx.ui.basic.Label().set({\n      font       : \"bold\",\n      padding    : 7,\n      allowGrowX : true,\n      allowGrowY : true\n    });\n\n    // button for max / min the play area\n    var maxIcon = \"decoration/window/maximize.gif\";\n    var restoreIcon = \"decoration/window/restore.gif\";\n    var maxButton = new qx.ui.form.Button(null, maxIcon);\n    maxButton.setAppearance(\"toolbar-button\");\n    maxButton.setMargin(6);\n    maxButton.setMinHeight(21);\n    maxButton.setToolTipText(this.tr(\"Maximize\"));\n    maxButton.addListener(\"execute\", function() {\n      // toggle the icons\n      if (maxButton.getIcon() == maxIcon) {\n        maxButton.setIcon(restoreIcon);\n        maxButton.setToolTipText(this.tr(\"Restore\"));\n      } else {\n        maxButton.setIcon(maxIcon);\n        maxButton.setToolTipText(this.tr(\"Maximize\"));\n      }\n      this.fireEvent(\"toggleMaximize\");\n    }, this)\n\n    // combine all parts for the caption\n    this._caption.add(this.__captionLabel);\n    this._caption.add(new qx.ui.core.Spacer(), {flex: 1});\n    this._caption.add(maxButton);\n    this.add(this._caption);\n    this._caption.set({\n      minHeight: 32,\n      maxHeight: 32\n    });\n\n    // playfield\n    this.__playField = new qx.ui.container.Scroll();\n    this.__playField.getChildControl(\"scrollbar-x\");\n    this.__playField.getChildControl(\"scrollbar-y\");\n    this.__playField.getChildControl(\"corner\");\n\n    this._dummy = new qx.ui.core.Widget();\n    this.__playField.add(this._dummy);\n\n    this.add(this.__playField, {flex : 1});\n  },\n\n\n  events : {\n    /** Event to signal the the fields should be maximized / restored. */\n    \"toggleMaximize\" : \"qx.event.type.Event\"\n  },\n\n\n  members :\n  {\n    _caption : null,\n    __captionLabel : null,\n    _dummy : null,\n    _playRoot : null,\n    __playField : null,\n    _playApp : null,\n    _initialized : false,\n\n\n    /**\n     * Initializes the playarea.\n     */\n    init : function()\n    {\n      if (this._initialized) {\n        return;\n      }\n      qx.ui.core.queue.Manager.flush();\n\n      var playRootEl = this._dummy.getContentElement().getDomElement();\n      var innerRoot = document.createElement(\"div\");\n      playRootEl.appendChild(innerRoot);\n      this._playRoot = new qx.ui.root.Inline(innerRoot);\n      this._playRoot._setLayout(new qx.ui.layout.Canvas());\n\n      var self = this;\n      this._playRoot.getLayoutParent = function() { return self.__playField; };\n      this.__playField.getChildren = this.__playField._getChildren =\n        function() { return [self._playRoot]; };\n\n      // copy the initial size which is availbale due to the flush at the beginning\n      this._playRoot.setMinWidth(this.__playField.getBounds().width);\n      this._playRoot.setMinHeight(this.__playField.getBounds().height);\n\n      this.__playField.addListener(\"resize\", function(e) {\n        var data = e.getData();\n        this._playRoot.setMinWidth(data.width);\n        this._playRoot.setMinHeight(data.height);\n      }, this);\n\n      this._playApp = new qx.application.Standalone();\n      this._playApp.getRoot = function() {\n        return self._playRoot;\n      };\n\n      this._playRoot.addListener(\"resize\", function(e) {\n        var data = e.getData();\n        this._dummy.setMinWidth(data.width);\n        this._dummy.setMinHeight(data.height);\n      }, this);\n\n      this._initialized = true;\n    },\n\n\n    /**\n     * Sets the caption of the playarea to the given text.\n     * @param text {String} The new text of the caption.\n     */\n    updateCaption : function(text) {\n      this.__captionLabel.setValue(text);\n    },\n\n\n    /**\n     * Disposes the objects added in the playarea.\n     * Therefore, it uses a two step process, which could fail ins some\n     * scenarios.\n     *\n     * First step takes all widgets added to the playarea's root and destroys\n     * them.\n     *\n     * The second step uses the given dumps of the qx registry and compares the\n     * additionally available classes with the sourcecode. If the classname of\n     * the new objects are in the code, the objects will be disposed.\n     *\n     * @param beforeReg {Object} A copy of the qx object registry before running\n     *   the application.\n     * @param afterReg {Object} A copy of the qx object registry after running\n     *   the application\n     * @param code {String} The code of the application as string.\n     */\n    reset : function(beforeReg, afterReg, code) {\n      if (!this._initialized) {\n        return;\n      }\n\n      var ch = this._playRoot.getChildren();\n      var i = ch.length;\n      while(i--)\n      {\n        if (ch[i]) {\n          ch[i].destroy();\n        }\n      }\n\n      var layout = this._playRoot.getLayout();\n      this._playRoot.setLayout(new qx.ui.layout.Canvas());\n      layout.dispose();\n\n      if (!beforeReg) {\n        return;\n      }\n\n      // flush the dispose queue to get the ui controlls disposed\n      qx.ui.core.queue.Dispose.flush();\n\n      // clean up the registry. Only really new objects should be in\n      for (var hash in afterReg) {\n        if (!beforeReg[hash] && !afterReg[hash].isDisposed()) {\n          // check if the object could be created by the code\n          if (code.indexOf(afterReg[hash].classname) != -1) {\n            // if yes, dispose it\n            var item = afterReg[hash];\n            // skip singletons\n            if (item.constructor.$$instance === item) {\n              continue;\n            }\n            item.destroy ? item.destroy() : item.dispose();\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Returns the used application.\n     * @return {qx.application.Standalone} A clone of the playground app.\n     */\n    getApp : function()\n    {\n      return this._playApp;\n    }\n  },\n\n\n\n  /*\n   *****************************************************************************\n      DESTRUCTOR\n   *****************************************************************************\n   */\n\n  destruct : function()\n  {\n    this._disposeObjects(\n      \"__captionLabel\", \"__playField\", \"_dummy\", \"_playRoot\", \"_playApp\"\n    );\n  }\n});\n"
  ]
}